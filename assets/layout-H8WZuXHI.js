import{a as $,T as C,l as k,m as v,C as h,r as c,G as B,n as w,_ as I,p as m,f as r,c as y,b as R,q as T,F as x,g as l,o as i,s as S,j as U,t as F}from"./index-DfbBnQHV.js";const{useBreakpoint:M}=B,D=$({name:"FireMonitoring",components:{"a-card":h,"a-tabs":v,"a-tab-pane":v.TabPane,"a-table":k,"a-tag":C},setup(){const o=c(1),d=c([{id:1,name:"1号楼"},{id:2,name:"2号楼"},{id:3,name:"3号楼"}]),u=c([]);for(let t=1;t<=3;t++)for(let a=1;a<=3;a++){for(let e=1;e<=5;e++)u.value.push({id:`${t}-${a}-${e}`,buildingId:t,floor:a,roomNumber:`${a}0${e}`,status:Math.random()>.9?"火灾":"正常",lastUpdate:new Date().toLocaleString()});u.value.push({id:`${t}-${a}-hallway`,buildingId:t,floor:a,roomNumber:`${a}楼楼道`,status:Math.random()>.95?"火灾":"正常",lastUpdate:new Date().toLocaleString()})}const p=M(),s=w(()=>!p.value.md),f=w(()=>[{title:"楼层",dataIndex:"floor",key:"floor",width:s.value?80:100,sorter:(t,a)=>t.floor-a.floor},{title:"房间号",dataIndex:"roomNumber",key:"roomNumber",width:s.value?100:120},{title:"状态",dataIndex:"status",key:"status",width:s.value?80:100},...s.value?[]:[{title:"最后更新时间",dataIndex:"lastUpdate",key:"lastUpdate",width:150}]]);return{activeBuilding:o,buildings:d,columns:f,filteredRooms:t=>u.value.filter(a=>a.buildingId===t).sort((a,e)=>a.status==="火灾"&&e.status!=="火灾"?-1:a.status!=="火灾"&&e.status==="火灾"?1:0),setRowClassName:t=>t.status==="火灾"?"fire-row":""}}});function E(o,d,u,p,s,f){const b=l("a-tag"),_=l("a-table"),t=l("a-tab-pane"),a=l("a-tabs"),e=l("a-card");return i(),m(e,{title:"云感智防",bordered:!1,class:"monitoring-card"},{default:r(()=>[y(a,{activeKey:o.activeBuilding,"onUpdate:activeKey":d[0]||(d[0]=n=>o.activeBuilding=n),centered:""},{default:r(()=>[(i(!0),R(x,null,T(o.buildings,n=>(i(),m(t,{key:n.id,tab:`${n.name}`},{default:r(()=>[y(_,{columns:o.columns,dataSource:o.filteredRooms(n.id),rowClassName:o.setRowClassName,pagination:!1,size:"small",scroll:{x:!0}},{bodyCell:r(({column:N,record:g})=>[N.dataIndex==="status"?(i(),m(b,{key:0,color:g.status==="正常"?"green":"red"},{default:r(()=>[U(F(g.status),1)]),_:2},1032,["color"])):S("",!0)]),_:2},1032,["columns","dataSource","rowClassName"])]),_:2},1032,["tab"]))),128))]),_:1},8,["activeKey"])]),_:1})}const L=I(D,[["render",E],["__scopeId","data-v-a854e791"]]);export{L as default};
